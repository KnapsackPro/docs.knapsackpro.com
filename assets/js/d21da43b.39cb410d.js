"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[967],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>k});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),p=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),f=p(r),k=o,m=f["".concat(i,".").concat(k)]||f[k]||u[k]||a;return r?n.createElement(m,s(s({ref:t},l),{},{components:r})):n.createElement(m,s({ref:t},l))}));function k(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=f;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:o,s[1]=c;for(var p=2;p<a;p++)s[p]=r[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},9185:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>p});var n=r(7462),o=(r(7294),r(3905));const a={pagination_next:null,pagination_prev:null},s="Cookbook",c={unversionedId:"jest/cookbook",id:"jest/cookbook",title:"Cookbook",description:"Use a Jest config file",source:"@site/docs/jest/cookbook.md",sourceDirName:"jest",slug:"/jest/cookbook",permalink:"/jest/cookbook",draft:!1,editUrl:"https://github.com/KnapsackPro/docs.knapsackpro.com/tree/main/docusaurus/docs/jest/cookbook.md",tags:[],version:"current",frontMatter:{pagination_next:null,pagination_prev:null},sidebar:"sidebar"},i={},p=[{value:"Use a Jest config file",id:"use-a-jest-config-file",level:2},{value:"Generate code coverage reports",id:"generate-code-coverage-reports",level:2},{value:"Generate XML reports",id:"generate-xml-reports",level:2},{value:"Related FAQs",id:"related-faqs",level:2}],l={toc:p};function u(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"cookbook"},"Cookbook"),(0,o.kt)("h2",{id:"use-a-jest-config-file"},"Use a Jest config file"),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"To filter tests use ",(0,o.kt)("a",{parentName:"p",href:"/jest/reference/#knapsack_pro_test_file_pattern"},(0,o.kt)("inlineCode",{parentName:"a"},"KNAPSACK_PRO_TEST_FILE_PATTERN")),".")),(0,o.kt)("p",null,"You can pass it with a ",(0,o.kt)("a",{parentName:"p",href:"/jest/reference/#command-line-arguments"},"command-line argument"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$(npm bin)/knapsack-pro-jest --config=jest.config.e2e.js\n")),(0,o.kt)("h2",{id:"generate-code-coverage-reports"},"Generate code coverage reports"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"export KNAPSACK_PRO_COVERAGE_DIRECTORY=coverage\n\n$(npm bin)/knapsack-pro-jest --coverage\n")),(0,o.kt)("p",null,"Knapsack Pro will generate one coverage report for each batch of tests executed on the CI node. To merge the reports you may consider ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/facebook/jest/issues/2418#issuecomment-478932514"},"this script"),"."),(0,o.kt)("h2",{id:"generate-xml-reports"},"Generate XML reports"),(0,o.kt)("p",null,"You can generate ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/jest-community/jest-junit"},"jest-junit")," reports with:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"export JEST_JUNIT_UNIQUE_OUTPUT_NAME=true\n\n$(npm bin)/knapsack-pro-jest --ci --reporters=jest-junit\n")),(0,o.kt)("p",null,"Knapsack Pro will generate one XML reports for each batch of tests executed on the CI node. Some CI providers (e.g., GitLab CI) can merge multiple XML files from parallel CI nodes."),(0,o.kt)("h2",{id:"related-faqs"},"Related FAQs"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://knapsackpro.com/faq/question/how-to-use-jest-config-file-with-knapsack-pro-jest"},"How to use Jest config file with Knapsack Pro Jest?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://knapsackpro.com/faq/question/how-to-generate-code-coverage-for-jest-with-knapsack-pro-jest-in-queue-mode"},"How to generate code coverage for Jest with Knapsack Pro Jest in Queue Mode?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://knapsackpro.com/faq/question/how-to-generate-xml-report-using-jest-junit-with-knapsack-pro-jest-in-queue-mode"},"How to generate XML report using jest-junit with Knapsack Pro Jest in Queue Mode?"))))}u.isMDXComponent=!0}}]);